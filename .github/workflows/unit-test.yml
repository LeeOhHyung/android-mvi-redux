name: Run Unit Tests

on:
  push:
    branches:
      - '*'
  pull_request:
    branches:
      - '*'

env:
  BASEURL: ${{ secrets.BASE_URL }}
  CLIENTID: ${{ secrets.CLIENTID }}

jobs:
  ci:
    name: Run Unit Test
    runs-on: ubuntu-latest
    
    steps: 
     - uses: actions/checkout@v2
     - name: set up JDK 1.8
       uses: actions/setup-java@v1
       with:
         java-version: 1.8
     - name: Decode BASEURL
       run: echo BASE_URL=\"https://fake.api.com/\" > ./local.properties
     - name: Decode clientId
       run: echo clientId=\"fakkeApiKey\" > ./local.properties
     
     - name: Unit Test
       run: bash ./gradlew assembleDebug --stacktrace
